---
import BlogPost from "@/components/BlogPostOrNote.astro";

import type { GetStaticPaths } from "astro";
import { getCollection } from "astro:content";
import { getBlogPostParams } from "@/lib/blog";

// Returns list of blog posts to generate static pages
export const getStaticPaths = (async () => {
    const posts = await getCollection("blog");
    return posts.map((post) => ({
        params: getBlogPostParams(post) as unknown as Record<string, string>,
        props: { post },
    }));
}) satisfies GetStaticPaths;

const { post } = Astro.props;
---

<BlogPost {post} />
